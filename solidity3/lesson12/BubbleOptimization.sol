// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Stack {
    uint256[] private _a;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ –ø—É–∑—ã—Ä—å–∫–æ–º
    function bubbleSort() external {
        uint256 n = _a.length;  // –ö—ç—à–∏—Ä—É–µ–º –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞, —á—Ç–æ–±—ã –Ω–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –∫–∞–∂–¥—ã–π —Ä–∞–∑

        // –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π –∏–ª–∏ –∏–º–µ–µ—Ç –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
        if (n <= 1) {
            return;
        }

        // –í–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª –¥–ª—è –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –º–∞—Å—Å–∏–≤—É
        for (uint256 i = 0; i < n - 1; i++) {
            bool swapped = false;  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –ï—Å–ª–∏ –∑–∞ –ø—Ä–æ—Ö–æ–¥ –Ω–µ –±—ã–ª–æ –æ–±–º–µ–Ω–æ–≤, –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω

            // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ—Å–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            for (uint256 j = 0; j < n - 1 - i; j++) {
                uint256 current = _a[j];       // –ö—ç—à–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
                uint256 next = _a[j + 1];      // –ö—ç—à–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

                // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ, –º–µ–Ω—è–µ–º –∏—Ö –º–µ—Å—Ç–∞–º–∏
                if (current > next) {
                    _a[j] = next;   // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤–µ
                    _a[j + 1] = current;  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤–µ
                    swapped = true;  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥, —á—Ç–æ –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω –æ–±–º–µ–Ω
                }
            }

            // –ï—Å–ª–∏ –Ω–µ –±—ã–ª–æ –æ–±–º–µ–Ω–æ–≤, –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
            if (!swapped) {
                break;
            }
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
    function getArray() external view returns (uint256[] memory) {
        return _a;
    }
}


// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–∞:

// –ú—ã –∫—ç—à–∏—Ä—É–µ–º –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ n = _a.length; –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏. –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–∞–∂–¥–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ .length —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞:

// –ü–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Å–æ—Å–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞, –º—ã —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ current –∏ next. –≠—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, —Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –¥–æ—Ä–æ–≥–æ–µ –ø–æ –≥–∞–∑—É.
// –†–∞–Ω–Ω—è—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–∏–∫–ª–∞ (swapped):

// –ï—Å–ª–∏ –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –º–∞—Å—Å–∏–≤—É –Ω–µ –±—ã–ª–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ –æ–±–º–µ–Ω–æ–≤, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω, –∏ –º—ã –º–æ–∂–µ–º –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, –Ω–µ –¥–µ–ª–∞—è –ª–∏—à–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –º–∞—Å—Å–∏–≤—É.
// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞:

// –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –∏–¥–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ n - 1 - i, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ –Ω–∞ —Å–≤–æ—ë–º –º–µ—Å—Ç–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö.
// –ê–Ω–∞–ª–∏–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –≥–∞–∑:
// –û—Å–Ω–æ–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –≥–∞–∑ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ —Å—á—ë—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —á–∏—Å–ª–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É —á–µ—Ä–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç–µ–∫–µ (—Ä–∞–±–æ—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏).
// –ß–µ–º –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞, —Ç–µ–º –º–µ–Ω—å—à–µ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –≥–∞–∑ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –ø—É–∑—ã—Ä—å–∫–æ–≤–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–µ–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å 
// ùëÇ
// (
// ùëõ
// 2
// )
// O(n 
// 2
//  ).
// –§–ª–∞–≥ swapped –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–Ω—å—à–µ, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω, —á—Ç–æ —Ç–∞–∫–∂–µ —ç–∫–æ–Ω–æ–º–∏—Ç –≥–∞–∑.